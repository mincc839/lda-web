AUI().ready(function(){var relativeURL=window.location.pathname+window.location.search;var classCssError="lda-error-page";if(document.getElementsByClassName(classCssError).length>0){$(".lda-bottom-bar-desktop").removeClass("initial-display-none");$('.lda-bottom-bar-desktop').addClass("lda-bottom-bar-hidden");$(".lda-bottom-bar-tablet").removeClass("initial-display-none");$('.lda-bottom-bar-tablet').addClass("lda-bottom-bar-hidden");$(".lda-bottom-bar-mobile").removeClass("initial-display-none");$('.lda-bottom-bar-mobile').addClass("lda-bottom-bar-hidden");var w=$(window).width();if(w>='1024'){bottom_bar_scroll_desktop(450);bottom_bar_scroll_tablet(450);bottom_bar_scroll_mobile(450);}else if(w>='600'){bottom_bar_scroll_desktop(800);bottom_bar_scroll_tablet(800);bottom_bar_scroll_mobile(800);}else{bottom_bar_scroll_desktop(760);bottom_bar_scroll_tablet(760);bottom_bar_scroll_mobile(760);}}else{if(document.getElementById("footer-desktop")!=null){if(document.getElementById("footer-desktop").classList.contains("bottombar_scroll")){$(".lda-bottom-bar-desktop").removeClass("initial-display-none");$('.lda-bottom-bar-desktop').addClass("lda-bottom-bar-hidden");var w=$(window).width();if(w>='1024'){bottom_bar_scroll_desktop(410);}else if(w>='600'){bottom_bar_scroll_desktop(700);}else{bottom_bar_scroll_desktop(540);}}
if(document.getElementById("footer-tablet")!=null){if(document.getElementById("footer-tablet").classList.contains("bottombar_scroll")){$(".lda-bottom-bar-tablet").removeClass("initial-display-none");$('.lda-bottom-bar-tablet').addClass("lda-bottom-bar-hidden");var w=$(window).width();if(w>='1024'){bottom_bar_scroll_tablet(410);}else if(w>='600'){bottom_bar_scroll_tablet(700);}else{bottom_bar_scroll_tablet(540);}}}
if(document.getElementById("footer-mobile")!=null){if(document.getElementById("footer-mobile").classList.contains("bottombar_scroll")){$(".lda-bottom-bar-mobile").removeClass("initial-display-none");$('.lda-bottom-bar-mobile').addClass("lda-bottom-bar-hidden");var w=$(window).width();if(w>='1024'){bottom_bar_scroll_mobile(410);}else if(w>='600'){bottom_bar_scroll_mobile(700);}else{bottom_bar_scroll_mobile(540);}}}}}
menu_add_fixed_scroll_up();$('.faqToggler').click(function(){$(this).attr('aria-expanded',!$(this).parent().next('.collapse').hasClass('show')?'true':'false');$(this).parent().next('.collapse').collapse('toggle');});set_onclick_banderitas();const menuIds=['footer-desktop','footer-tablet','footer-mobile'];menuIds.forEach(menuId=>{const menu=document.getElementById(menuId);if(menu!=null&&menu.hasChildNodes()){if(menu.querySelector("#dropdownMenuLanguages")!=null){let dropdownIdiomasFooter=menu.querySelector("#dropdownMenuLanguages").nextElementSibling;let linksIdiomasFooter=dropdownIdiomasFooter.querySelectorAll("a");linksIdiomasFooter.forEach(link=>{let currentHref=link.href;let newOnclick=link.getAttribute("onclick")+"; window.open('"+currentHref+"', '_self')";link.setAttribute("onclick",newOnclick);});}
const menuItems=Array.from(menu.querySelectorAll('a'));function focusItem(index){menuItems[index].focus();}
menu.addEventListener('keydown',function(event){const currentIndex=menuItems.indexOf(document.activeElement);if(currentIndex===-1)return;switch(event.key){case'ArrowDown':case'ArrowRight':event.preventDefault();const nextIndex=(currentIndex+1)%menuItems.length;focusItem(nextIndex);break;case'ArrowUp':case'ArrowLeft':event.preventDefault();const prevIndex=(currentIndex-1+menuItems.length)%menuItems.length;focusItem(prevIndex);break;case'Home':event.preventDefault();focusItem(1);break;case'End':event.preventDefault();focusItem(menuItems.length-1);break;default:break;}});const sectionsLinksFooter=menu.querySelectorAll(".lda-footer__links section.portlet");sectionsLinksFooter.forEach(function(node,index){node.setAttribute("role","navigation");node.setAttribute("aria-labelledby","title-footer-menu"+(index+1));const elementHeading=menu.querySelector("#title-footer-menu"+(index+1));$(elementHeading).detach().prependTo(node);});}});let usingKeyboard=false;document.addEventListener('keydown',function(event){if(event.key==='Tab'||event.key==='Shift'){usingKeyboard=true;}});document.addEventListener('mousedown',function(){usingKeyboard=false;});document.addEventListener('focusin',function(event){if(usingKeyboard){event.target.classList.add('focus-visible');}});document.addEventListener('focusout',function(event){event.target.classList.remove('focus-visible');});const observer=new MutationObserver((mutations)=>{mutations.forEach((mutation)=>{if(mutation.attributeName==='class'){const body=document.body;const hasPopupClass=body.classList.contains('didomi-popup-open');if(!hasPopupClass&&window._didomiPopupWasOpen){onDidomiPopupClose();}
window._didomiPopupWasOpen=hasPopupClass;}});});observer.observe(document.body,{attributes:true,attributeFilter:['class']});window._didomiPopupWasOpen=document.body.classList.contains('didomi-popup-open');});function menu_add_fixed_scroll_up(){var position=$(window).scrollTop();$(window).scroll(function(){var lightboxMenu=document.getElementById('lda-menu-lightbox');if(lightboxMenu!==undefined&&lightboxMenu!==null){var estaMenuDesplegado=lightboxMenu.style.visibility==='visible';if(!estaMenuDesplegado){var scroll=$(window).scrollTop();if(scroll>65){if(scroll>position){$('body.signed-out .lda-unfixed-header').removeClass('lda-header--fixed');$('body.signed-out .lda-unfixed-header').css({"opacity":"0","transition":"all ease-in-out 1s","position":"relative","lef":"0","right":"0","top":"0"});$('body.signed-out #content').css({"padding-top":"0"+"px"});$('.lda-table-head').css({"top":"0"+"px"});}else{$('body.signed-out .lda-unfixed-header').addClass('lda-header--fixed');$('body.signed-out .lda-unfixed-header').css({"opacity":"1","transition":"all ease-in-out 0.5s","position":"fixed"});$('body.signed-out #content').css({"padding-top":"80"+"px"});$('.lda-table-head').css({"transition":"all ease-in-out 0.5s","top":"73"+"px"});}}else{$('.lda-unfixed-header').removeClass('lda-header--fixed');$('.lda-unfixed-header').css({"opacity":"1","transition":"all ease-in-out 1s","position":"inherit"});$('#content').css({"padding-top":"0"});}
position=scroll;if(position==0){$('.lda-unfixed-header').removeClass('lda-header--fixed');$('.lda-unfixed-header').css({"opacity":"1","transition":"all ease-in-out 1s","position":"inherit"});$('#content').css({"padding-top":"0"});}}}});}
function bottom_bar_scroll_desktop(screenHeight){$(window).bind('scroll',function(){if($(window).scrollTop()>screenHeight){$(".lda-bottom-bar-desktop").addClass("lda-bottom-bar-visible");$(".lda-bottom-bar-desktop").removeClass("lda-bottom-bar-hidden");}else{$(".lda-bottom-bar-desktop").removeClass("lda-bottom-bar-visible");$(".lda-bottom-bar-desktop").addClass("lda-bottom-bar-hidden");}});}
function bottom_bar_scroll_tablet(screenHeight){$(window).bind('scroll',function(){if($(window).scrollTop()>screenHeight){$(".lda-bottom-bar-tablet").addClass("lda-bottom-bar-visible");$(".lda-bottom-bar-tablet").removeClass("lda-bottom-bar-hidden");}else{$(".lda-bottom-bar-tablet").removeClass("lda-bottom-bar-visible");$(".lda-bottom-bar-tablet").addClass("lda-bottom-bar-hidden");}});}
function bottom_bar_scroll_mobile(screenHeight){$(window).bind('scroll',function(){if($(window).scrollTop()>screenHeight){$(".lda-bottom-bar-mobile").addClass("lda-bottom-bar-visible");$(".lda-bottom-bar-mobile").removeClass("lda-bottom-bar-hidden");}else{$(".lda-bottom-bar-mobile").removeClass("lda-bottom-bar-visible");$(".lda-bottom-bar-mobile").addClass("lda-bottom-bar-hidden");}});}
function set_onclick_banderitas(){var banderitasIngles=document.querySelectorAll("#banderita-ingles");banderitasIngles.forEach(banderitaIngles=>banderitaIngles.setAttribute("onclick","sendEventAnalitica('Varios','Lang_Ingles','','lang_ingles')"));var banderitasAleman=document.querySelectorAll("#banderita-aleman");banderitasAleman.forEach(banderitaAleman=>banderitaAleman.setAttribute("onclick","sendEventAnalitica('Varios','Lang_Aleman','','lang_aleman')"));var banderitasEspanol=document.querySelectorAll("#banderita-espanol");banderitasEspanol.forEach(banderitaEspanol=>banderitaEspanol.setAttribute("onclick","sendEventAnalitica('Varios','Lang_Espanol','','lang_espanol')"));}
try{window.didomiOnReady=window.didomiOnReady||[];window.didomiOnReady.push(function(Didomi){var cookiesAceptadas=Didomi.getUserStatus().purposes.global.enabled;if(cookiesAceptadas.indexOf("idLDAPublicidad")===-1){var elemRedesSocialesList=document.getElementsByClassName('lda-rr-ss');for(let i=0;i<elemRedesSocialesList.length;i++){elemRedesSocialesList[i].style.setProperty("display","none","important");}}
if(!document.body.classList.contains('didomi-popup-open')){setTimeout(()=>{generarCookieTecnicaAuxiliar(cookiesAceptadas);},1000);}})}catch(e){console.debug("[LineaDirecta] - No se pueden recuperar las cookies de Didomi");}
function onDidomiPopupClose(){try{window.didomiOnReady=window.didomiOnReady||[];window.didomiOnReady.push(function(Didomi){var cookiesAceptadas=Didomi.getUserStatus().purposes.global.enabled;setTimeout(()=>{generarCookieTecnicaAuxiliar(cookiesAceptadas);},1000);})}catch(e){console.debug("[LineaDirecta] - No se pueden recuperar las cookies de Didomi");}}
function generarCookieTecnicaAuxiliar(cookiesAceptadas){let cookieAnalitica=false;let cookiePersonalizacion=false;if(cookiesAceptadas.indexOf("idLDAPersonalizacion")===-1){cookiePersonalizacion=true;}
if(cookiesAceptadas.indexOf("idLDAAnaliticas")===-1){cookieAnalitica=true;}
if(cookieAnalitica||cookiePersonalizacion){fetch('/o/delete-cookies',{method:'POST',headers:{'Content-Type':'application/json','x-csrf-token':Liferay.authToken},body:JSON.stringify({cookieAnalitica:cookieAnalitica,cookiePersonalizacion:cookiePersonalizacion})}).then(res=>res.json()).then(data=>{if(data.success){console.debug('Borrada la cookie de ac client user id');}});}}